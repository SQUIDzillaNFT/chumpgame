<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>Chump Attack</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&family=Bungee&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header id="titleBar"><h1>Chump Attack</h1></header>

    <div id="controlBar">
      <div class="actions">
        <button id="actionBtn">Start</button>
      </div>
      <div class="stats">
        <div class="stat"><span>Score:</span> <strong id="score">0</strong></div>
        <div class="stat"><span>Wave:</span> <strong id="wave">1</strong></div>
        <div class="stat"><span>Health:</span> <strong id="health">100</strong></div>
      </div>
    </div>

    <div id="stage">
      <canvas id="game" width="360" height="640"></canvas>
      <div id="gameOver" class="hidden">
        <h2>Game Over!</h2>
        <p>Score: <span id="finalScore">0</span></p>
        <p id="personalBest" class="personal-best"></p>
        <div id="leaderboard" class="leaderboard">
          <h3>Top Scores</h3>
          <div id="leaderboardList"></div>
        </div>
        <div id="scoreSubmitPrompt" class="score-submit-prompt">
          <p>Enter your name to submit score:</p>
          <input type="text" id="scoreSubmitInput" placeholder="Your name" maxlength="20" />
          <div class="gameOver-actions">
            <button id="submitScoreBtn">Submit Score</button>
            <button id="restartFromGameOver">Restart</button>
          </div>
        </div>
      </div>
    </div>

    <div id="namePrompt" class="overlay-prompt hidden">
      <h2>Enter Your Name</h2>
      <input type="text" id="playerNameInput" placeholder="Your name" maxlength="20" />
      <button id="nameSubmit">Start Playing</button>
    </div>

    

    

    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
      import { getDatabase, ref, push, query, limitToLast, orderByChild, get } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';
      
      // Your Firebase config
      const firebaseConfig = {
        apiKey: "AIzaSyBQIDk91UukMQqX1FGe8aF17_VHDVAq0ug",
        authDomain: "chumpattack.firebaseapp.com",
        databaseURL: "https://chumpattack-default-rtdb.firebaseio.com",
        projectId: "chumpattack",
        storageBucket: "chumpattack.firebasestorage.app",
        messagingSenderId: "205984989671",
        appId: "1:205984989671:web:afc71bf78deb22dac5bd42"
      };
      
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);
      
      // Export to window for game.js to use
      window.firebaseDb = db;
      window.firebaseRef = ref;
      window.firebasePush = push;
      window.firebaseQuery = query;
      window.firebaseLimit = limitToLast;
      window.firebaseOrderBy = orderByChild;
      window.firebaseGet = get;
    </script>
    <script src="src/game.js"></script>
  </body>
  </html>


